<!DOCTYPE html>  
<html lang="bn">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>‡¶á‡¶®‡¶´‡¶ø‡¶®‡¶ø‡¶ü‡¶ø ‡¶ï‡ßÅ‡¶á‡¶ú ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞</title>  
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5812280411788246"
     crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css2?family=Baloo+Da+2:wght@500;700;800&family=Hind+Siliguri:wght@400;600&display=swap" rel="stylesheet">  
      
    <style>  
        :root {  
            --primary: #FFD700; /* Gold */  
            --secondary: #000000; /* Black */  
            --accent: #FF4757; /* Red */  
            --bg-color: #f1f2f6;  
            --shadow: 4px;  
        }  
  
        * {  
            box-sizing: border-box;  
            margin: 0;  
            padding: 0;  
            user-select: none;  
            font-family: 'Hind Siliguri', sans-serif;  
        }  
  
        body {  
            background-color: var(--bg-color);  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            min-height: 100vh;  
        }  
  
        /* Mobile Container */  
        .app {  
            width: 100%;  
            max-width: 400px;  
            height: 100vh;  
            max-height: 800px;  
            background-color: var(--primary);  
            border: 5px solid var(--secondary);  
            border-radius: 20px; /* Mobile rounded corners */  
            position: relative;  
            overflow: hidden;  
            display: flex;  
            flex-direction: column;  
            box-shadow: 10px 10px 30px rgba(0,0,0,0.3);  
        }  
  
        /* Pattern Overlay */  
        .app::before {  
            content: '';  
            position: absolute;  
            top: 0; left: 0; width: 100%; height: 100%;  
            background-image: radial-gradient(var(--secondary) 15%, transparent 16%);  
            background-size: 20px 20px;  
            opacity: 0.1;  
            pointer-events: none;  
        }  
  
        /* Screens */  
        .screen {  
            position: absolute;  
            top: 0; left: 0; width: 100%; height: 100%;  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            justify-content: center;  
            padding: 20px;  
            transition: transform 0.4s ease-in-out;  
            background: var(--primary);  
            z-index: 10;  
        }  
  
        .screen.hidden {  
            transform: translateX(100%);  
        }  
  
        .screen.active {  
            transform: translateX(0);  
        }  
  
        /* UI Elements */  
        .badge {  
            background: var(--secondary);  
            color: white;  
            padding: 5px 15px;  
            border-radius: 20px;  
            font-size: 0.9rem;  
            margin-bottom: 10px;  
            font-family: 'Baloo Da 2';  
        }  
  
        .question-card {  
            background: white;  
            width: 100%;  
            min-height: 150px;  
            border: 3px solid var(--secondary);  
            border-radius: 15px;  
            padding: 20px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            text-align: center;  
            margin-bottom: 20px;  
            box-shadow: var(--shadow) var(--shadow) 0px var(--secondary);  
            position: relative;  
        }  
  
        .question-text {  
            font-size: 1.3rem;  
            font-weight: 700;  
            line-height: 1.4;  
            color: #333;  
        }  
  
        .options-grid {  
            display: grid;  
            grid-template-columns: 1fr 1fr;  
            gap: 12px;  
            width: 100%;  
        }  
  
        .opt-btn {  
            background: white;  
            border: 3px solid var(--secondary);  
            padding: 15px 5px;  
            border-radius: 10px;  
            font-weight: 600;  
            font-size: 1rem;  
            cursor: pointer;  
            box-shadow: 3px 3px 0px var(--secondary);  
            transition: transform 0.1s;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            text-align: center;  
        }  
  
        .opt-btn:active {  
            transform: translate(2px, 2px);  
            box-shadow: 1px 1px 0px var(--secondary);  
        }  
  
        .opt-btn.correct { background: #2ed573; color: white; border-color: #2ed573; }  
        .opt-btn.wrong { background: #ff4757; color: white; border-color: #ff4757; }  
  
        /* Typography */  
        h1 {  
            font-family: 'Baloo Da 2';  
            font-size: 3.5rem;  
            line-height: 1;  
            text-transform: uppercase;  
            text-shadow: 3px 3px 0px white;  
            margin-bottom: 20px;  
            text-align: center;  
        }  
  
        /* HUD */  
        .hud {  
            position: absolute;  
            top: 0; left: 0; width: 100%;  
            padding: 15px;  
            display: flex;  
            justify-content: space-between;  
            font-weight: bold;  
            z-index: 20;  
        }  
  
        .score-box {  
            background: white;  
            border: 2px solid black;  
            padding: 5px 12px;  
            border-radius: 10px;  
            box-shadow: 2px 2px 0 black;  
        }  
  
        .big-btn {  
            background: var(--secondary);  
            color: white;  
            font-size: 1.5rem;  
            padding: 15px 40px;  
            border: none;  
            border-radius: 10px;  
            font-family: 'Baloo Da 2';  
            cursor: pointer;  
            box-shadow: 5px 5px 0px rgba(255,255,255,0.5);  
        }  
  
    </style>  
</head>  
<body>  
  
<div class="app">  
  
    <div id="screen-start" class="screen active">  
        <div style="font-size: 4rem;">üöÄ</div>  
        <h1>‡¶ú‡ßç‡¶û‡¶æ‡¶®<br>‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞</h1>  
        <p style="font-weight: bold; margin-bottom: 30px;">‡¶Ö‡¶∏‡ßÄ‡¶Æ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶≠‡¶æ‡¶£‡ßç‡¶°‡¶æ‡¶∞</p>  
        <button class="big-btn" onclick="Game.start()">‡¶ñ‡ßá‡¶≤‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ</button>  
    </div>  
  
    <div id="screen-game" class="screen hidden">  
        <div class="hud">  
            <div class="score-box">‡¶∏‡ßç‡¶ï‡ßã‡¶∞: <span id="score">‡ß¶</span></div>  
            <div class="score-box">‡¶≤‡¶æ‡¶á‡¶´: <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span></div>  
        </div>  
  
        <div class="badge" id="category-badge">‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ú‡ßç‡¶û‡¶æ‡¶®</div>  
  
        <div class="question-card">  
            <div id="q-text" class="question-text">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>  
        </div>  
  
        <div class="options-grid" id="options-area">  
            </div>  
    </div>  
  
    <div id="screen-result" class="screen hidden">  
        <h1>‡¶ñ‡ßá‡¶≤‡¶æ ‡¶∂‡ßá‡¶∑!</h1>  
        <div class="question-card" style="flex-direction: column; min-height: auto;">  
            <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞</p>  
            <p id="final-score" style="font-size: 4rem; font-family: 'Baloo Da 2'; font-weight: bold;">‡ß¶</p>  
        </div>  
        <button class="big-btn" onclick="Game.start()">‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ñ‡ßá‡¶≤‡ßÅ‡¶®</button>  
    </div>  
  
</div>  
  
<script>  
/** * INFINITE QUIZ ENGINE  
 * This engine generates questions algorithmically to ensure variety and speed.  
 */  
  
const Engine = {  
    // Utility: Convert English numbers to Bangla  
    toBn: (n) => n.toString().replace(/\d/g, d => "‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ"[d]),  
      
    // Utility: Get random integer  
    rand: (min, max) => Math.floor(Math.random() * (max - min + 1)) + min,  
      
    // Utility: Shuffle array  
    shuffle: (arr) => arr.sort(() => Math.random() - 0.5),  
  
    // DATA: Massive Country List for Geography  
    countries: [  
        {n:"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂", c:"‡¶¢‡¶æ‡¶ï‡¶æ"}, {n:"‡¶≠‡¶æ‡¶∞‡¶§", c:"‡¶®‡¶Ø‡¶º‡¶æ‡¶¶‡¶ø‡¶≤‡ßç‡¶≤‡¶ø"}, {n:"Ÿæÿß⁄©ÿ≥ÿ™ÿßŸÜ", c:"‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶æ‡¶¨‡¶æ‡¶¶"},  
        {n:"‡¶∏‡ßå‡¶¶‡¶ø ‡¶Ü‡¶∞‡¶¨", c:"‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶¶"}, {n:"‡¶á‡¶∞‡¶æ‡¶®", c:"‡¶§‡ßá‡¶π‡¶∞‡¶æ‡¶®"}, {n:"‡¶á‡¶∞‡¶æ‡¶ï", c:"‡¶¨‡¶æ‡¶ó‡¶¶‡¶æ‡¶¶"},  
        {n:"‡¶ú‡¶æ‡¶™‡¶æ‡¶®", c:"‡¶ü‡ßã‡¶ï‡¶ø‡¶ì"}, {n:"‡¶ö‡ßÄ‡¶®", c:"‡¶¨‡ßá‡¶á‡¶ú‡¶ø‡¶Ç"}, {n:"‡¶∞‡¶æ‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ", c:"‡¶Æ‡¶∏‡ßç‡¶ï‡ßã"},  
        {n:"‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞", c:"‡¶ì‡¶Ø‡¶º‡¶æ‡¶∂‡¶ø‡¶Ç‡¶ü‡¶® ‡¶°‡¶ø‡¶∏‡¶ø"}, {n:"‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶∞‡¶æ‡¶ú‡ßç‡¶Ø", c:"‡¶≤‡¶®‡ßç‡¶°‡¶®"}, {n:"‡¶´‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏", c:"‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶∏"},  
        {n:"‡¶ú‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶®‡¶ø", c:"‡¶¨‡¶æ‡¶∞‡ßç‡¶≤‡¶ø‡¶®"}, {n:"‡¶á‡¶§‡¶æ‡¶≤‡¶ø", c:"‡¶∞‡ßã‡¶Æ"}, {n:"‡¶¨‡ßç‡¶∞‡¶æ‡¶ú‡¶ø‡¶≤", c:"‡¶¨‡ßç‡¶∞‡¶æ‡¶∏‡¶ø‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ"},  
        {n:"‡¶Ü‡¶∞‡ßç‡¶ú‡ßá‡¶®‡ßç‡¶ü‡¶ø‡¶®‡¶æ", c:"‡¶¨‡ßÅ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶∏ ‡¶Ü‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶∏"}, {n:"‡¶ï‡¶æ‡¶®‡¶æ‡¶°‡¶æ", c:"‡¶Ö‡¶ü‡ßã‡¶Ø‡¶º‡¶æ"}, {n:"‡¶Ö‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ", c:"‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶¨‡ßá‡¶∞‡¶æ"},  
        {n:"‡¶Æ‡¶ø‡¶∂‡¶∞", c:"‡¶ï‡¶æ‡¶Ø‡¶º‡¶∞‡ßã"}, {n:"‡¶§‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï", c:"‡¶Ü‡¶ô‡ßç‡¶ï‡¶æ‡¶∞‡¶æ"}, {n:"‡¶Æ‡¶æ‡¶≤‡¶Ø‡¶º‡ßá‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ", c:"‡¶ï‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶≤‡¶æ‡¶Æ‡¶™‡ßÅ‡¶∞"},  
        {n:"‡¶á‡¶®‡ßç‡¶¶‡ßã‡¶®‡ßá‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ", c:"‡¶ú‡¶æ‡¶ï‡¶æ‡¶∞‡ßç‡¶§‡¶æ"}, {n:"‡¶•‡¶æ‡¶á‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°", c:"‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ï"}, {n:"‡¶®‡ßá‡¶™‡¶æ‡¶≤", c:"‡¶ï‡¶æ‡¶†‡¶Æ‡¶æ‡¶®‡ßç‡¶°‡ßÅ"},  
        {n:"‡¶≠‡ßÅ‡¶ü‡¶æ‡¶®", c:"‡¶•‡¶ø‡¶Æ‡ßç‡¶™‡ßÅ"}, {n:"‡¶∂‡ßç‡¶∞‡ßÄ‡¶≤‡¶ô‡ßç‡¶ï‡¶æ", c:"‡¶∂‡ßç‡¶∞‡ßÄ ‡¶ú‡¶Ø‡¶º‡¶æ‡¶¨‡¶∞‡ßç‡¶ß‡¶®‡ßá‡¶™‡ßÅ‡¶∞‡¶æ ‡¶ï‡ßã‡¶ü‡ßç‡¶ü‡ßá"}, {n:"‡¶Æ‡¶æ‡¶≤‡¶¶‡ßç‡¶¨‡ßÄ‡¶™", c:"‡¶Æ‡¶æ‡¶≤‡ßá"}  
    ],  
  
    // DATA: Curated General Knowledge  
    gkDB: [  
        {q: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶ï‡¶¨‡¶ø ‡¶ï‡ßá?", a: "‡¶ï‡¶æ‡¶ú‡ßÄ ‡¶®‡¶ú‡¶∞‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ", w: ["‡¶∞‡¶¨‡ßÄ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶®‡¶æ‡¶• ‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞", "‡¶ú‡¶∏‡ßÄ‡¶Æ‡¶â‡¶¶‡ßç‡¶¶‡ßÄ‡¶®", "‡¶∂‡¶æ‡¶Æ‡¶∏‡ßÅ‡¶∞ ‡¶∞‡¶æ‡¶π‡¶Æ‡¶æ‡¶®"]},  
        {q: "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá‡¶∞ ‡¶¨‡ßÉ‡¶π‡¶§‡ßç‡¶§‡¶Æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶ó‡ßç‡¶∞‡ßã‡¶≠ ‡¶¨‡¶® ‡¶ï‡ßã‡¶®‡¶ü‡¶ø?", a: "‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶®", w: ["‡¶Ü‡¶Æ‡¶æ‡¶ú‡¶®", "‡¶≠‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶¨‡¶®", "‡¶Æ‡¶ß‡ßÅ‡¶™‡ßÅ‡¶∞ ‡¶¨‡¶®"]},  
        {q: "‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶§‡¶æ ‡¶ï‡ßá?", a: "‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶ú‡¶æ‡¶ï‡¶æ‡¶∞‡¶¨‡¶æ‡¶∞‡ßç‡¶ó", w: ["‡¶¨‡¶ø‡¶≤ ‡¶ó‡ßá‡¶ü‡¶∏", "‡¶∏‡ßç‡¶ü‡¶ø‡¶≠ ‡¶ú‡¶¨‡¶∏", "‡¶á‡¶≤‡¶ï ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ï"]},  
        {q: "‡¶ï‡ßç‡¶∞‡¶ø‡¶ï‡ßá‡¶ü ‡¶ñ‡ßá‡¶≤‡¶æ‡¶Ø‡¶º ‡¶ï‡¶Ø‡¶º‡¶ú‡¶® ‡¶Ü‡¶Æ‡ßç‡¶™‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡ßá‡¶® ‡¶Æ‡¶æ‡¶†‡ßá?", a: "‡ß® ‡¶ú‡¶®", w: ["‡ßß ‡¶ú‡¶®", "‡ß© ‡¶ú‡¶®", "‡ß™ ‡¶ú‡¶®"]},  
        {q: "‡¶™‡¶æ‡¶®‡¶ø‡¶∞ ‡¶∏‡ßç‡¶´‡ßÅ‡¶ü‡¶®‡¶æ‡¶ô‡ßç‡¶ï ‡¶ï‡¶§?", a: "‡ßß‡ß¶‡ß¶¬∞ ‡¶∏‡ßá.", w: ["‡ßØ‡ß¶¬∞ ‡¶∏‡ßá.", "‡ßÆ‡ß¶¬∞ ‡¶∏‡ßá.", "‡ßß‡ß®‡ß¶¬∞ ‡¶∏‡ßá."]},  
        {q: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ ‡¶¶‡¶ø‡¶¨‡¶∏ ‡¶ï‡¶¨‡ßá?", a: "‡ß®‡ß¨‡¶∂‡ßá ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö", w: ["‡ßß‡ß¨‡¶á ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞", "‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø", "‡ßß‡ß™‡¶á ‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤"]},  
        {q: "‡¶Æ‡¶æ‡¶®‡¶¨‡¶¶‡ßá‡¶π‡ßá ‡¶π‡¶æ‡¶°‡¶º‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶§?", a: "‡ß®‡ß¶‡ß¨ ‡¶ü‡¶ø", w: ["‡ß®‡ß¶‡ßÆ ‡¶ü‡¶ø", "‡ß©‡ß¶‡ß´ ‡¶ü‡¶ø", "‡ß®‡ß¶‡ß¶ ‡¶ü‡¶ø"]},  
        {q: "‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶¶‡¶ø‡¶ï‡ßá ‡¶ì‡¶†‡ßá?", a: "‡¶™‡ßÇ‡¶∞‡ßç‡¶¨", w: ["‡¶™‡¶∂‡ßç‡¶ö‡¶ø‡¶Æ", "‡¶â‡¶§‡ßç‡¶§‡¶∞", "‡¶¶‡¶ï‡ßç‡¶∑‡¶ø‡¶£"]},  
        {q: "‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡ßç‡¶Æ‡ßÉ‡¶§‡¶ø‡¶∏‡ßå‡¶ß‡ßá‡¶∞ ‡¶∏‡ßç‡¶•‡¶™‡¶§‡¶ø ‡¶ï‡ßá?", a: "‡¶Æ‡¶æ‡¶á‡¶®‡ßÅ‡¶≤ ‡¶π‡ßã‡¶∏‡ßá‡¶®", w: ["‡¶π‡¶æ‡¶Æ‡¶ø‡¶¶‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®", "‡¶∂‡¶æ‡¶Æ‡ßÄ‡¶Æ ‡¶∏‡¶ø‡¶ï‡¶¶‡¶æ‡¶∞", "‡¶®‡¶ø‡¶§‡ßÅ‡¶® ‡¶ï‡ßÅ‡¶£‡ßç‡¶°‡ßÅ"]},  
        {q: "‡¶ï‡ßã‡¶®‡¶ü‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶®?", a: "‡¶ó‡ßÅ‡¶ó‡¶≤", w: ["‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï", "‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™", "‡¶ü‡¶ø‡¶ï‡¶ü‡¶ï"]}  
    ],  
  
    // GENERATOR 1: MATH (Infinite)  
    genMath: function() {  
        const ops = ['+', '-', '√ó'];  
        const op = ops[this.rand(0, 2)];  
        let n1 = this.rand(5, 50);  
        let n2 = this.rand(2, 20);  
        let ans, q;  
  
        if(op === '+') { ans = n1 + n2; q = `${this.toBn(n1)} + ${this.toBn(n2)} = ‡¶ï‡¶§?`; }  
        else if(op === '-') {   
            if(n1 < n2) [n1, n2] = [n2, n1]; // No negative result  
            ans = n1 - n2; q = `${this.toBn(n1)} - ${this.toBn(n2)} = ‡¶ï‡¶§?`;   
        }  
        else {   
            n1 = this.rand(2, 12); n2 = this.rand(2, 10); // Keep multiplication simple  
            ans = n1 * n2; q = `${this.toBn(n1)} √ó ${this.toBn(n2)} = ‡¶ï‡¶§?`;   
        }  
  
        // Generate wrong options  
        let opts = new Set([ans]);  
        while(opts.size < 4) {  
            let offset = this.rand(-10, 10);  
            let w = ans + offset;  
            if(w > 0 && w !== ans) opts.add(w);  
        }  
  
        return {  
            cat: "‡¶ó‡¶£‡¶ø‡¶§",  
            q: q,  
            a: this.toBn(ans),  
            opts: Array.from(opts).map(x => this.toBn(x))  
        };  
    },  
  
    // GENERATOR 2: GEOGRAPHY (Capital City)  
    genGeo: function() {  
        const item = this.countries[this.rand(0, this.countries.length - 1)];  
        const isReverse = Math.random() > 0.5; // 50% chance asking Country, 50% Capital  
  
        let q, a, wrongs;  
          
        if (isReverse) {  
            q = `${item.c} ‡¶ï‡ßã‡¶® ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶ß‡¶æ‡¶®‡ßÄ?`;  
            a = item.n;  
            wrongs = [];  
            while(wrongs.length < 3) {  
                let r = this.countries[this.rand(0, this.countries.length-1)].n;  
                if(r !== a && !wrongs.includes(r)) wrongs.push(r);  
            }  
        } else {  
            q = `${item.n}-‡¶è‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶ß‡¶æ‡¶®‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ï‡ßÄ?`;  
            a = item.c;  
            wrongs = [];  
            while(wrongs.length < 3) {  
                let r = this.countries[this.rand(0, this.countries.length-1)].c;  
                if(r !== a && !wrongs.includes(r)) wrongs.push(r);  
            }  
        }  
  
        return {  
            cat: "‡¶≠‡ßÇ‡¶ó‡ßã‡¶≤",  
            q: q,  
            a: a,  
            opts: [...wrongs, a]  
        };  
    },  
  
    // GENERATOR 3: LOGIC (Number Series)  
    genLogic: function() {  
        const start = this.rand(2, 10);  
        const gap = this.rand(2, 5);  
        const seq = [start, start+gap, start+(gap*2), "?"];  
        const ans = start + (gap*3);  
          
        // Wrongs  
        let opts = new Set([ans]);  
        while(opts.size < 4) {  
            let w = ans + this.rand(-5, 5);  
            if(w !== ans && w > 0) opts.add(w);  
        }  
  
        return {  
            cat: "‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶§‡ßç‡¶§‡¶æ",  
            q: `‡¶ß‡¶æ‡¶∞‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶™‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶§? \n ${this.toBn(start)}, ${this.toBn(start+gap)}, ${this.toBn(start+gap*2)}, ?`,  
            a: this.toBn(ans),  
            opts: Array.from(opts).map(x => this.toBn(x))  
        };  
    },  
  
    // GENERATOR 4: GENERAL KNOWLEDGE (Static DB)  
    genGK: function() {  
        const data = this.gkDB[this.rand(0, this.gkDB.length - 1)];  
        return {  
            cat: "‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ú‡ßç‡¶û‡¶æ‡¶®",  
            q: data.q,  
            a: data.a,  
            opts: [...data.w, data.a]  
        };  
    },  
  
    // MASTER MIXER  
    getQuestion: function() {  
        const roll = Math.random();  
        let qData;  
        if(roll < 0.3) qData = this.genMath();      // 30% Math  
        else if(roll < 0.5) qData = this.genGeo();  // 20% Geo  
        else if(roll < 0.7) qData = this.genLogic();// 20% Logic  
        else qData = this.genGK();                  // 30% GK  
  
        qData.opts = this.shuffle(qData.opts); // Shuffle options location  
        return qData;  
    }  
};  
  
/** * GAME CONTROLLER  
 */  
const Game = {  
    score: 0,  
    lives: 3,  
    active: false,  
    currentData: null,  
  
    start: function() {  
        this.score = 0;  
        this.lives = 3;  
        this.active = true;  
        this.updateHUD();  
        this.switchScreen('screen-game');  
        this.nextTurn();  
    },  
  
    nextTurn: function() {  
        if(!this.active) return;  
          
        // Generate new question  
        this.currentData = Engine.getQuestion();  
          
        // Update UI  
        document.getElementById('category-badge').innerText = this.currentData.cat;  
        document.getElementById('q-text').innerText = this.currentData.q;  
          
        const grid = document.getElementById('options-area');  
        grid.innerHTML = ''; // Clear old  
  
        this.currentData.opts.forEach(opt => {  
            const btn = document.createElement('div');  
            btn.className = 'opt-btn';  
            btn.innerText = opt;  
            btn.onclick = () => this.check(opt, btn);  
            grid.appendChild(btn);  
        });  
    },  
  
    check: function(selected, btn) {  
        // Prevent double clicking  
        const all = document.querySelectorAll('.opt-btn');  
        all.forEach(b => b.style.pointerEvents = 'none');  
  
        if(selected === this.currentData.a) {  
            btn.classList.add('correct');  
            this.score += 10;  
        } else {  
            btn.classList.add('wrong');  
            this.lives--;  
            // Highlight correct one  
            all.forEach(b => {  
                if(b.innerText === this.currentData.a) b.classList.add('correct');  
            });  
        }  
  
        this.updateHUD();  
  
        setTimeout(() => {  
            if(this.lives > 0) {  
                this.nextTurn();  
            } else {  
                this.gameOver();  
            }  
        }, 1200);  
    },  
  
    updateHUD: function() {  
        document.getElementById('score').innerText = Engine.toBn(this.score);  
        let hearts = "";  
        for(let i=0; i<this.lives; i++) hearts += "‚ù§Ô∏è";  
        document.getElementById('lives').innerText = hearts;  
    },  
  
    gameOver: function() {  
        this.active = false;  
        document.getElementById('final-score').innerText = Engine.toBn(this.score);  
        this.switchScreen('screen-result');  
    },  
  
    switchScreen: function(id) {  
        document.querySelectorAll('.screen').forEach(s => {  
            s.classList.remove('active');  
            s.classList.add('hidden');  
        });  
        const target = document.getElementById(id);  
        target.classList.remove('hidden');  
        target.classList.add('active');  
    }  
};  
  
</script>  
</body>  
</html>
